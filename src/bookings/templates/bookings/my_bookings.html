{% extends "base.html" %}
{% block title %}My bookings · HotelBooking{% endblock %}
{% block content %}

<h1 class="h1-modern mb-4">My bookings</h1>

<div class="row g-3">
  {% for booking in bookings %}
    <div class="col-12">
      <div class="card-modern d-flex flex-column flex-md-row justify-content-between align-items-start align-items-md-center gap-3">

        <!-- Room info -->
        <div>
          <div class="fw-semibold fs-5">
            Room {{ booking.room.number }}
          </div>
          <div class="text-muted-soft small">
            {{ booking.start_date }} → {{ booking.end_date }} · {{ booking.nights }} nights
          </div>
        </div>

        <!-- Status -->
        <div>
          {% if booking.status == 'active' %}
            <span class="badge bg-success-subtle text-success fw-semibold px-3 py-2 rounded-pill">
              Active
            </span>
          {% else %}
            <span class="badge bg-danger-subtle text-danger fw-semibold px-3 py-2 rounded-pill">
              Cancelled
            </span>
          {% endif %}
        </div>

        <!-- Actions -->
        {% if booking.status == 'active' %}
          <form method="post" action="{% url 'cancel_booking' booking.id %}">
            {% csrf_token %}
            <button class="btn btn-sm btn-outline-danger custom">
              Cancel booking
            </button>
          </form>
        {% endif %}
      </div>
    </div>
  {% empty %}
    <div class="col-12">
      <div class="card-modern text-center p-5">
        <p class="text-muted-soft mb-0">You don’t have any bookings yet.</p>
      </div>
    </div>
  {% endfor %}
</div>

{% endblock %}
